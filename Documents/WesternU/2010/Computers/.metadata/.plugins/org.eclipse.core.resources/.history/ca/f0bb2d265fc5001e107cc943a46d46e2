import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.*;



public class PascalRecursive extends JApplet implements ActionListener{

	public static void main(String [] args){
		JFrame frame = new JFrame();		
		frame.setTitle("Pascal: Recursive");
	    JApplet applet = new PascalRecursive();
	    applet.init();	
	    frame.getContentPane().add(applet);
	    frame.pack();
	    frame.setVisible(true);
	    
	    frame.addWindowListener(new WindowAdapter() {
		      public void windowClosing(WindowEvent ev) {
			        System.exit(0);
			      }
			    });
	}

	
	public void init() {
		JPanel panel = new PascalPanel();
		getContentPane().add(panel);
		
		  JMenuBar mb = new JMenuBar();
		  setJMenuBar(mb);
		  JMenu menu = new JMenu("File");
		  mb.add(menu);
		  JMenuItem mi = new JMenuItem("Exit");
		  menu.add(mi);
		  mi.addActionListener(this);
	}
	


public class PascalPanel extends JPanel {

	String input,line;
	private int r,c,y,x;
	
	public PascalPanel(){
		setPreferredSize(new Dimension(800, 600));
	    setBackground(Color.white);   
	    input = JOptionPane.showInputDialog("Enter number of rows (1-30)", 10);
	}
	
	
	public void paintComponent(Graphics g){
		super.paintComponent(g);
	    Graphics2D g2 = (Graphics2D) g;
	    Font courier = new Font("Courier",0,14);
	    g2.setFont(courier);
	   
	    x=0;
	    r=Integer.parseInt(input);
	    y=15;

	    
	    for (int i = 0; i < r+1; i++) {
	    	
	    	x=0;
	    	line="";
	    	
	    	for (int c = 0; c <= i; c++) {
	    
	    	line = new String(Integer.toString(p(i,c)));
    		g2.drawString(line,x,y);
	    	x+=60;

	    	}
	    
	    	y+=30;
	    	
	    }
	   
	  	    
	    
	}
	
	public int p(int r, int c){

		//basis
		if(c==0 || c==r){
			return 1;
		}
		//induction
		return p(r-1,c-1)+p(r-1,c);
		
	} 
  }



public void actionPerformed(ActionEvent ev) {
	String command = ev.getActionCommand();
    if ("Exit".equals(command)) {
      System.exit(0);
    }

	
}
}